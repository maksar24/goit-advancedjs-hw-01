{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst LS_KEY = \"feedback-form-state\";\nlet currentDate = JSON.parse(localStorage.getItem(LS_KEY)) ?? {};\n\nconst fillForm = () => {\n    const currentStorageDate = JSON.parse(localStorage.getItem(LS_KEY));\n    if (currentStorageDate) {\n        form.elements.message.value = currentStorageDate.message || \"\";\n        form.elements.email.value = currentStorageDate.email || \"\";\n    };\n};\n\nconst handleInput = throttle(({ target }) => {\n    currentDate[target.name] = target.value.trim();\n    localStorage.setItem(LS_KEY, JSON.stringify(currentDate));\n}, 500);\n\nconst handleSubmit = (e) => {\n    e.preventDefault();\n\n    localStorage.removeItem(LS_KEY);\n    form.reset();\n    console.log(currentDate);\n};\n\nfillForm();\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);"],"names":["form","LS_KEY","currentDate","fillForm","currentStorageDate","handleInput","throttle","target","handleSubmit"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,sBACf,IAAIC,EAAc,KAAK,MAAM,aAAa,QAAQD,CAAM,CAAC,GAAK,GAE9D,MAAME,EAAW,IAAM,CACnB,MAAMC,EAAqB,KAAK,MAAM,aAAa,QAAQH,CAAM,CAAC,EAC9DG,IACAJ,EAAK,SAAS,QAAQ,MAAQI,EAAmB,SAAW,GAC5DJ,EAAK,SAAS,MAAM,MAAQI,EAAmB,OAAS,GAEhE,EAEMC,EAAcC,EAAS,CAAC,CAAE,OAAAC,KAAa,CACzCL,EAAYK,EAAO,MAAQA,EAAO,MAAM,OACxC,aAAa,QAAQN,EAAQ,KAAK,UAAUC,CAAW,CAAC,CAC5D,EAAG,GAAG,EAEAM,EAAgB,GAAM,CACxB,EAAE,eAAc,EAEhB,aAAa,WAAWP,CAAM,EAC9BD,EAAK,MAAK,EACV,QAAQ,IAAIE,CAAW,CAC3B,EAEAC,IACAH,EAAK,iBAAiB,QAASK,CAAW,EAC1CL,EAAK,iBAAiB,SAAUQ,CAAY"}