{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst LS_KEY = \"feedback-form-state\";\nconst formList = {\n    email: \"\",\n    message: \"\",\n};\nconst currentDate = JSON.parse(localStorage.getItem(LS_KEY)) ?? JSON.stringify(formList);\n\nlocalStorage.getItem(LS_KEY) ?? localStorage.setItem(LS_KEY, currentDate);\n\nconst fillForm = () => {\n    const currentStorageDate = localStorage.getItem(LS_KEY);\n    if (currentStorageDate) {\n        form.elements.message.value = JSON.parse(currentStorageDate).message;\n        form.elements.email.value = JSON.parse(currentStorageDate).email;\n    };\n};\n\nconst handleInput = throttle(({ target }) => {\n    if (target.name === \"email\") {\n        currentDate.email = target.value;\n    } else if (target.name === \"message\") {\n        currentDate.message = target.value;\n    };\n    localStorage.setItem(LS_KEY, JSON.stringify(currentDate));\n}, 500);\n\nconst handleSubmit = (e) => {\n    e.preventDefault();\n\n    localStorage.removeItem(LS_KEY);\n    form.reset();\n    console.log(currentDate);\n};\n\nfillForm();\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);"],"names":["form","LS_KEY","formList","currentDate","fillForm","currentStorageDate","handleInput","throttle","target","handleSubmit"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,sBACTC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACMC,EAAc,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,GAAK,KAAK,UAAUC,CAAQ,EAEvF,aAAa,QAAQD,CAAM,GAAK,aAAa,QAAQA,EAAQE,CAAW,EAExE,MAAMC,EAAW,IAAM,CACnB,MAAMC,EAAqB,aAAa,QAAQJ,CAAM,EAClDI,IACAL,EAAK,SAAS,QAAQ,MAAQ,KAAK,MAAMK,CAAkB,EAAE,QAC7DL,EAAK,SAAS,MAAM,MAAQ,KAAK,MAAMK,CAAkB,EAAE,MAEnE,EAEMC,EAAcC,EAAS,CAAC,CAAE,OAAAC,KAAa,CACrCA,EAAO,OAAS,QAChBL,EAAY,MAAQK,EAAO,MACpBA,EAAO,OAAS,YACvBL,EAAY,QAAUK,EAAO,OAEjC,aAAa,QAAQP,EAAQ,KAAK,UAAUE,CAAW,CAAC,CAC5D,EAAG,GAAG,EAEAM,EAAgB,GAAM,CACxB,EAAE,eAAc,EAEhB,aAAa,WAAWR,CAAM,EAC9BD,EAAK,MAAK,EACV,QAAQ,IAAIG,CAAW,CAC3B,EAEAC,IACAJ,EAAK,iBAAiB,QAASM,CAAW,EAC1CN,EAAK,iBAAiB,SAAUS,CAAY"}